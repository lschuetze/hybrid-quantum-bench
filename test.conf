# -*- mode: yaml -*-
# Config file for ReBench
default_experiment: test-hybrid-quantum-frontend
default_data_file: 'benchmark.data'

runs:
  invocations: 1
  warmup: 0


benchmark_suites:
  test-hybrid-quantum-frontend-small:
    gauge_adapter: RebenchLog
    command: -i ../benchmarks/qasmbench/small/%(benchmark)s/%(benchmark)s.qasm -o ../benchmarks/compiler_generated/small/%(benchmark)s.mlir
    benchmarks: &QASM_SMALL
      - adder_n10
      - bb84_n8
      - dnn_n2
      - grover_n2
      - inverseqft_n4
      - linearsolver_n3
      - qaoa_n6
      - qft_n4
      - sat_n7
      - toffoli_n3
      - vqe_uccsd_n6
      - adder_n4
      - bell_n4
      - dnn_n8
      - hhl_n10
      - ipea_n2
      - lpn_n5
      - qec_en_n5
      - qpe_n9
      - shor_n5
      - variational_n4
      - vqe_uccsd_n8
      - basis_change_n3
      - cat_state_n4
      - error_correctiond3_n5
      - hhl_n7
      - ising_n10
      - pea_n5
      - qec_sm_n5
      - qrng_n4
      - simon_n6
      - vqe_n4
      - basis_trotter_n4
      - deutsch_n2
      - fredkin_n3
      - hs4_n4
      - iswap_n2
      - qaoa_n3
      - quantumwalks_n2
      - teleportation_n3
      - vqe_uccsd_n4
      - wstate_n3

  test-hybrid-quantum-frontend-medium:
    gauge_adapter: RebenchLog
    command: -i ../benchmarks/qasmbench/medium/%(benchmark)s/%(benchmark)s.qasm -o ../benchmarks/compiler_generated/medium/%(benchmark)s.mlir
    benchmarks: &QASM_MEDIUM
      - qram_n20
      - sat_n11
      - gcm_n13
      - bwt_n21
      - ghz_state_n23
      - bv_n14
      - factor247_n15
      - qft_n18
      - qf21_n15
      - swap_test_n25
      - vqe_n24
      - cc_n12
      - square_root_n18
      - multiplier_n15
      - wstate_n27
      - qec9xz_n17
      - multiply_n13
      - bv_n19
      - ising_n26
      - knn_n25
      - hhl_n14
      - bigadder_n18
      - cat_state_n22
      - seca_n11
      - dnn_n16

  test-hybrid-quantum-frontend-large:
    gauge_adapter: RebenchLog
    command: -i ../benchmarks/qasmbench/large/%(benchmark)s/%(benchmark)s.qasm -o ../benchmarks/compiler_generated/large/%(benchmark)s.mlir
    benchmarks: &QASM_LARGE
      - wstate_n76
      - multiplier_n75
      - cc_n64
      - qugan_n71
      - adder_n433
      - multiplier_n350
      - ghz_n255
      - multiplier_n45
      - bv_n30
      - swap_test_n115
      - qft_n320
      - ising_n98
      - vqe_uccsd_n28
      - knn_n67
      - bwt_n177
      - swap_test_n361
      - qugan_n395
      - quantum_telecloning_N1_M100_all_to_all
      - bwt_n57
      - wstate_n380
      - bv_n70
      - quantum_telecloning_N1_M1000_LNN
      - bv_n140
      - qft_n29
      - ghz_n40
      - ghz_n78
      - QAOA_3SAT_N100_p100
      - adder_n64
      - qugan_n39
      - swap_test_n83
      - swap_test_n41
      - cat_n65
      - QV_n1000
      - cat_n130
      - QAOA_3SAT_N10000_p1
      - wstate_n36
      - dnn_n51
      - dnn_n33
      - quantum_telecloning_N1_M1000_all_to_all
      - square_root_n45
      - qft_n63
      - cc_n32
      - adder_n28
      - knn_n31
      - ising_n66
      - ghz_n127
      - qugan_n111
      - bv_n280
      - knn_n341
      - ising_n420
      - cat_n260
      - adder_n118
      - ising_n34
      - knn_n129
      - bwt_n37
      - multiplier_n400
      - knn_n41
      - bwt_n97
      - ising_n42
      - QAOA_3SAT_N1000_p1
      - QV_n100
      - cc_n301
      - wstate_n118
      - cc_n151
      - qft_n160
      - QAOA_3SAT_N100_p1000
      - QV_n32
      - square_root_n60
      - cat_n35
      - quantum_telecloning_N1_M100_LNN


  test-hybrid-quantum-small-lift:
    gauge_adapter: Time
    command: ~/git/hybrid-quantum-bench/benchmarks/benchmarks/compiler_generated/small/%(benchmark)s.mlir --inline --replace-repeated-reads --lift-qillr-to-quantum --hoist-load-store --eliminate-load-store
    benchmarks: *QASM_SMALL
  test-hybrid-quantum-medium-lift:
    gauge_adapter: Time
    command: ~/git/hybrid-quantum-bench/benchmarks/benchmarks/compiler_generated/medium/%(benchmark)s.mlir --inline --replace-repeated-reads --lift-qillr-to-quantum --hoist-load-store --eliminate-load-store
    benchmarks: *QASM_MEDIUM
  test-hybrid-quantum-large-lift:
    gauge_adapter: Time
    command: ~/git/hybrid-quantum-bench/benchmarks/compiler_generated/large/%(benchmark)s.mlir --inline --replace-repeated-reads --lift-qillr-to-quantum --hoist-load-store --eliminate-load-store
    benchmarks: *QASM_LARGE
    

executors:
  qiskit:
    path: implementations/
    executable: qiskit.sh
  hybrid-quantum:
    path: /Users/lschuetze/git/hybrid-quantum/build/bin
    executable: quantum-opt
  hybrid-quantum-frontend:
    path: /Users/lschuetze/git/hybrid-quantum/frontend/qasm
    executable: qasm-import.py

experiments:
  test-hybrid-quantum-frontend:
    suites:
      - test-hybrid-quantum-frontend-small
      - test-hybrid-quantum-frontend-medium
      - test-hybrid-quantum-frontend-large
    executions:
      - hybrid-quantum-frontend
  test-hybrid-quantum-lift:
    suites:
      - test-hybrid-quantum-small-lift
      - test-hybrid-quantum-medium-lift
      - test-hybrid-quantum-large-lift
    executions:
      - hybrid-quantum
  test-hybrid-quantum-lift2:
    suites:
      - test-hybrid-quantum-large-lift
    executions:
      - hybrid-quantum